language: python
python:
- '2.7'

os:
  - linux

dist: trusty

sudo: enabled

compiler:
  - gcc

install:
- pip install numpy scipy matplotlib nose docutils mpi4py h5py
- ./configure
- make framework

virtualenv:
  system_site_packages: false

before_install:
- sudo apt-get install build-essential
- sudo apt-get install gfortran 
- sudo apt-get install python-dev
- sudo apt-get install libgsl0-dev
- sudo apt-get install cmake
- sudo apt-get install libfftw3-3
- sudo apt-get install libfftw3-dev
- sudo apt-get install libmpfr4
- sudo apt-get install libmpfr-dev
- sudo apt-get install libhdf5-serial-dev
- sudo apt-get install hdf5-tools
- sudo apt-get install libopenmpi-dev
- sudo apt-get install openmpi-bin

script:
- export PYTHONPATH=${PWD}/src
- for i in test/core_tests/test_*.py; do echo "running test $i" && nosetests $i; done
